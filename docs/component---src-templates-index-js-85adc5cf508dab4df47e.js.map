{"version":3,"sources":["webpack://gatsby-starter-blog/./src/templates/index.js"],"names":["_currentPage","pageChanged","event","pageNum","window","location","href","data","pageContext","posts","site","siteMetadata","title","allMarkdownRemark","edges","totalPage","currentPage","console","log","xl","tags_list","defaultPage","onChange"],"mappings":"0NAYIA,GAAgB,EAEpB,SAASC,EAAYC,EAAOC,GACvBA,GAAWH,IAAiC,GAAjBA,IAE1BI,OAAOC,SAASC,KADJ,GAAXH,EACsB,IAEA,IAAIA,GA6BjC,UAxBkB,YAA2C,IAAD,EAA/BI,EAA+B,EAA/BA,KAAiBC,GAAc,EAAzBH,SAAyB,EAAdG,aAEtCC,GADY,UAAAF,EAAKG,KAAKC,oBAAV,SAAwBC,MAC5BL,EAAKM,kBAAkBC,OAC7BC,EAA2BP,EAA3BO,UAAWC,EAAgBR,EAAhBQ,YAInB,OAHAhB,EAAegB,EACfC,QAAQC,IAAIX,EAAME,GAGhB,gBAAC,IAAD,KAGE,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAUF,KAAME,KAElB,gBAAC,IAAD,CAAKU,GAAG,KACN,gBAAC,IAAD,CAAUC,UAAWZ,EAAYY,aAGnC,gBAAC,IAAD,CAAML,UAAWA,EAAWM,YAAaL,EAAaM,SAAUrB","file":"component---src-templates-index-js-85adc5cf508dab4df47e.js","sourcesContent":["import * as React from \"react\"\r\nimport { Link, graphql } from \"gatsby\"\r\nimport {Card, CardDeck, CardColumns, CardGroup, Row, Col, Container, ListGroup} from \"react-bootstrap\"\r\nimport \"../css/card.css\"\r\nimport {Paper} from '@material-ui/core'\r\nimport App from \"../components/App\"\r\nimport Page from \"../components/pagination\"\r\nimport BlogList from \"../components/blog-list\"\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Img from \"gatsby-image\"\r\nimport Catagory from \"../components/catagory_list\"\r\n\r\nvar _currentPage = -1;\r\n\r\nfunction pageChanged(event, pageNum){\r\n  if(pageNum != _currentPage && _currentPage != -1){\r\n    if(pageNum == 1){\r\n      window.location.href = \"/\";\r\n    }else{\r\n      window.location.href = \"/\"+pageNum;\r\n    }\r\n  }\r\n}\r\n\r\nconst BlogIndex = function({ data, location,  pageContext }){\r\n  const siteTitle = data.site.siteMetadata?.title || `Title`\r\n  const posts = data.allMarkdownRemark.edges\r\n  const { totalPage, currentPage } = pageContext\r\n  _currentPage = currentPage;\r\n  console.log(data, posts);\r\n\r\n  return (\r\n    <App>\r\n      \r\n      \r\n      <Col>\r\n        <BlogList data={posts}/>\r\n      </Col>\r\n      <Col xl=\"3\" >\r\n        <Catagory tags_list={pageContext.tags_list}></Catagory>\r\n      </Col>\r\n\r\n      <Page totalPage={totalPage} defaultPage={currentPage} onChange={pageChanged}></Page>\r\n\r\n    </App>\r\n  )\r\n}\r\n\r\nexport default BlogIndex\r\n\r\nexport const pageQuery = graphql`\r\n  query($skip: Int!, $limit: Int!) {\r\n    site {\r\n      siteMetadata {\r\n        title\r\n        description\r\n      }\r\n    }\r\n    allMarkdownRemark(\r\n      sort: { fields: [frontmatter___date], order: DESC }\r\n      limit: $limit\r\n      skip: $skip\r\n    ) {\r\n      edges {\r\n        node {\r\n          excerpt\r\n          fields {\r\n            slug\r\n          }\r\n          frontmatter {\r\n            date(formatString: \"YYYY-MM-DD\")\r\n            title\r\n            description\r\n            tags\r\n            featuredImage {\r\n              childImageSharp {\r\n                fluid(maxWidth: 800) {\r\n                  ...GatsbyImageSharpFluid\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`"],"sourceRoot":""}